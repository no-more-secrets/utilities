-----------------------------------------------------------------
-- Global freezing.
-----------------------------------------------------------------
local M = {}

-----------------------------------------------------------------
-- Implementation.
-----------------------------------------------------------------
function M.globals( env )
  return setmetatable( {}, {
    __index=env,
    __newindex=function() error( 'cannot set globals.', 2 ) end,
  } )
end

-----------------------------------------------------------------
-- Finished.
-----------------------------------------------------------------
return M
